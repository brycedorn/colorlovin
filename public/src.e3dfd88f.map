{"version":3,"sources":["../node_modules/hyperapp/src/index.js","../node_modules/@hyperapp/fx/src/utils.js","../node_modules/@hyperapp/fx/src/fxTypes.js","../node_modules/@hyperapp/fx/src/makeDefaultFx.js","../node_modules/@hyperapp/fx/src/withFx.js","../node_modules/@hyperapp/fx/src/fxCreators.js","../node_modules/@hyperapp/fx/src/fxIf.js","../node_modules/@hyperapp/fx/src/index.js","js/state.js","../node_modules/unfetch/dist/unfetch.es.js","../node_modules/hex2rgb/index.js","js/actions.js","../node_modules/picostyle/src/index.js","js/view.js","index.js"],"names":["h","name","attributes","length","rest","children","arguments","push","node","pop","key","app","state","actions","view","container","map","skipRender","rootElement","oldNode","recycleElement","element","nodeName","toLowerCase","call","childNodes","nodeType","nodeValue","lifecycle","isRecycling","globalState","clone","wiredActions","wireStateToActions","path","action","data","result","getPartialState","then","setPartialState","concat","scheduleRender","resolveNode","render","patch","parent","isSvg","newElement","createElement","document","createTextNode","createElementNS","oncreate","i","appendChild","insertBefore","updateElement","oldAttributes","cb","onupdate","oldKeyed","newKeyed","oldElements","oldChildren","oldKey","getKey","k","newKey","keyedNode","target","source","out","value","slice","eventListener","event","currentTarget","events","type","updateAttribute","oldValue","style","setProperty","addEventListener","removeEventListener","setAttribute","removeAttribute","removeElement","done","removeChild","removeChildren","ondestroy","onremove","assign","assignments","omit","object","keys","copy","filter","indexOf","forEach","ACTION","FRAME","DELAY","TIME","LOG","HTTP","EVENT","KEY_DOWN","KEY_UP","RANDOM","DEBOUNCE","THROTTLE","makeDefaultFx","fx","props","getAction","time","duration","performance","now","log","apply","args","options","fetchOptions","url","response","ok","catch","error","onkeydown","keyEvent","onkeyup","randomValue","Math","random","max","min","debounceTimeouts","setTimeout","wait","throttleLocks","rate","withFx","isFx","Array","isArray","isFn","getActionNamed","getNextAction","partialActions","paths","nextAction","Error","split","runIfFx","currentEvent","maybeFx","bind","fxRunner","enhanceActions","actionsTemplate","Object","reduce","otherActions","handleEventFx","currentFx","makeEnhancedView","vdom","patchVdomFx","makeFxApp","nextApp","initialState","enhancedActions","enhancedView","appActions","fxOrApp","frame","delay","http","keydown","keyup","debounce","throttle","fxIf","fxSpecs","fxSpec","index","fetch","Promise","resolve","reject","request","XMLHttpRequest","open","method","headers","setRequestHeader","header","all","getAllResponseHeaders","replace","m","status","statusText","responseURL","responseText","JSON","parse","Blob","n","withCredentials","credentials","onload","onerror","send","body","sourceUrl","match","paletteId","colors","title","parsedColors","toRGBA","theme","getRandomColor","JsonUrl","compress","setOutput","encodedTheme","copyTextarea","querySelectorAll","focus","select","execCommand","copied","hex","color","rgb","r","g","b","a","floor","cache","decls","nodeDecls","stringify","createStyle","class","Boolean","join","keyframes","_id","sheet","head","hyphenate","str","insert","rule","insertRule","cssRules","obj","id","wrap","stringToWrap","wrapper","classname","isInsideObj","arr","prop","sub","test","black","white","offWhite","primaryColor","secondaryColor","tertiaryColor","bgColor","baseFont","headingFont","Wrapper","Swatch","ColorItem","ColorList","InputWrap","Input","Button","small","Header","Subhead","Footer","Color","remove","Source","get","input","placeholder","e","keyCode","Output","outputUrl","main"],"mappings":"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","file":"src.e3dfd88f.map","sourceRoot":"../src","sourcesContent":["export function h(name, attributes) {\n  var rest = []\n  var children = []\n  var length = arguments.length\n\n  while (length-- > 2) rest.push(arguments[length])\n\n  while (rest.length) {\n    var node = rest.pop()\n    if (node && node.pop) {\n      for (length = node.length; length--; ) {\n        rest.push(node[length])\n      }\n    } else if (node != null && node !== true && node !== false) {\n      children.push(node)\n    }\n  }\n\n  return typeof name === \"function\"\n    ? name(attributes || {}, children)\n    : {\n        nodeName: name,\n        attributes: attributes || {},\n        children: children,\n        key: attributes && attributes.key\n      }\n}\n\nexport function app(state, actions, view, container) {\n  var map = [].map\n  var rootElement = (container && container.children[0]) || null\n  var oldNode = rootElement && recycleElement(rootElement)\n  var lifecycle = []\n  var skipRender\n  var isRecycling = true\n  var globalState = clone(state)\n  var wiredActions = wireStateToActions([], globalState, clone(actions))\n\n  scheduleRender()\n\n  return wiredActions\n\n  function recycleElement(element) {\n    return {\n      nodeName: element.nodeName.toLowerCase(),\n      attributes: {},\n      children: map.call(element.childNodes, function(element) {\n        return element.nodeType === 3 // Node.TEXT_NODE\n          ? element.nodeValue\n          : recycleElement(element)\n      })\n    }\n  }\n\n  function resolveNode(node) {\n    return typeof node === \"function\"\n      ? resolveNode(node(globalState, wiredActions))\n      : node != null\n        ? node\n        : \"\"\n  }\n\n  function render() {\n    skipRender = !skipRender\n\n    var node = resolveNode(view)\n\n    if (container && !skipRender) {\n      rootElement = patch(container, rootElement, oldNode, (oldNode = node))\n    }\n\n    isRecycling = false\n\n    while (lifecycle.length) lifecycle.pop()()\n  }\n\n  function scheduleRender() {\n    if (!skipRender) {\n      skipRender = true\n      setTimeout(render)\n    }\n  }\n\n  function clone(target, source) {\n    var out = {}\n\n    for (var i in target) out[i] = target[i]\n    for (var i in source) out[i] = source[i]\n\n    return out\n  }\n\n  function setPartialState(path, value, source) {\n    var target = {}\n    if (path.length) {\n      target[path[0]] =\n        path.length > 1\n          ? setPartialState(path.slice(1), value, source[path[0]])\n          : value\n      return clone(source, target)\n    }\n    return value\n  }\n\n  function getPartialState(path, source) {\n    var i = 0\n    while (i < path.length) {\n      source = source[path[i++]]\n    }\n    return source\n  }\n\n  function wireStateToActions(path, state, actions) {\n    for (var key in actions) {\n      typeof actions[key] === \"function\"\n        ? (function(key, action) {\n            actions[key] = function(data) {\n              var result = action(data)\n\n              if (typeof result === \"function\") {\n                result = result(getPartialState(path, globalState), actions)\n              }\n\n              if (\n                result &&\n                result !== (state = getPartialState(path, globalState)) &&\n                !result.then // !isPromise\n              ) {\n                scheduleRender(\n                  (globalState = setPartialState(\n                    path,\n                    clone(state, result),\n                    globalState\n                  ))\n                )\n              }\n\n              return result\n            }\n          })(key, actions[key])\n        : wireStateToActions(\n            path.concat(key),\n            (state[key] = clone(state[key])),\n            (actions[key] = clone(actions[key]))\n          )\n    }\n\n    return actions\n  }\n\n  function getKey(node) {\n    return node ? node.key : null\n  }\n\n  function eventListener(event) {\n    return event.currentTarget.events[event.type](event)\n  }\n\n  function updateAttribute(element, name, value, oldValue, isSvg) {\n    if (name === \"key\") {\n    } else if (name === \"style\") {\n      for (var i in clone(oldValue, value)) {\n        var style = value == null || value[i] == null ? \"\" : value[i]\n        if (i[0] === \"-\") {\n          element[name].setProperty(i, style)\n        } else {\n          element[name][i] = style\n        }\n      }\n    } else {\n      if (name[0] === \"o\" && name[1] === \"n\") {\n        name = name.slice(2)\n\n        if (element.events) {\n          if (!oldValue) oldValue = element.events[name]\n        } else {\n          element.events = {}\n        }\n\n        element.events[name] = value\n\n        if (value) {\n          if (!oldValue) {\n            element.addEventListener(name, eventListener)\n          }\n        } else {\n          element.removeEventListener(name, eventListener)\n        }\n      } else if (name in element && name !== \"list\" && !isSvg) {\n        element[name] = value == null ? \"\" : value\n      } else if (value != null && value !== false) {\n        element.setAttribute(name, value)\n      }\n\n      if (value == null || value === false) {\n        element.removeAttribute(name)\n      }\n    }\n  }\n\n  function createElement(node, isSvg) {\n    var element =\n      typeof node === \"string\" || typeof node === \"number\"\n        ? document.createTextNode(node)\n        : (isSvg = isSvg || node.nodeName === \"svg\")\n          ? document.createElementNS(\n              \"http://www.w3.org/2000/svg\",\n              node.nodeName\n            )\n          : document.createElement(node.nodeName)\n\n    var attributes = node.attributes\n    if (attributes) {\n      if (attributes.oncreate) {\n        lifecycle.push(function() {\n          attributes.oncreate(element)\n        })\n      }\n\n      for (var i = 0; i < node.children.length; i++) {\n        element.appendChild(\n          createElement(\n            (node.children[i] = resolveNode(node.children[i])),\n            isSvg\n          )\n        )\n      }\n\n      for (var name in attributes) {\n        updateAttribute(element, name, attributes[name], null, isSvg)\n      }\n    }\n\n    return element\n  }\n\n  function updateElement(element, oldAttributes, attributes, isSvg) {\n    for (var name in clone(oldAttributes, attributes)) {\n      if (\n        attributes[name] !==\n        (name === \"value\" || name === \"checked\"\n          ? element[name]\n          : oldAttributes[name])\n      ) {\n        updateAttribute(\n          element,\n          name,\n          attributes[name],\n          oldAttributes[name],\n          isSvg\n        )\n      }\n    }\n\n    var cb = isRecycling ? attributes.oncreate : attributes.onupdate\n    if (cb) {\n      lifecycle.push(function() {\n        cb(element, oldAttributes)\n      })\n    }\n  }\n\n  function removeChildren(element, node) {\n    var attributes = node.attributes\n    if (attributes) {\n      for (var i = 0; i < node.children.length; i++) {\n        removeChildren(element.childNodes[i], node.children[i])\n      }\n\n      if (attributes.ondestroy) {\n        attributes.ondestroy(element)\n      }\n    }\n    return element\n  }\n\n  function removeElement(parent, element, node) {\n    function done() {\n      parent.removeChild(removeChildren(element, node))\n    }\n\n    var cb = node.attributes && node.attributes.onremove\n    if (cb) {\n      cb(element, done)\n    } else {\n      done()\n    }\n  }\n\n  function patch(parent, element, oldNode, node, isSvg) {\n    if (node === oldNode) {\n    } else if (oldNode == null || oldNode.nodeName !== node.nodeName) {\n      var newElement = createElement(node, isSvg)\n      parent.insertBefore(newElement, element)\n\n      if (oldNode != null) {\n        removeElement(parent, element, oldNode)\n      }\n\n      element = newElement\n    } else if (oldNode.nodeName == null) {\n      element.nodeValue = node\n    } else {\n      updateElement(\n        element,\n        oldNode.attributes,\n        node.attributes,\n        (isSvg = isSvg || node.nodeName === \"svg\")\n      )\n\n      var oldKeyed = {}\n      var newKeyed = {}\n      var oldElements = []\n      var oldChildren = oldNode.children\n      var children = node.children\n\n      for (var i = 0; i < oldChildren.length; i++) {\n        oldElements[i] = element.childNodes[i]\n\n        var oldKey = getKey(oldChildren[i])\n        if (oldKey != null) {\n          oldKeyed[oldKey] = [oldElements[i], oldChildren[i]]\n        }\n      }\n\n      var i = 0\n      var k = 0\n\n      while (k < children.length) {\n        var oldKey = getKey(oldChildren[i])\n        var newKey = getKey((children[k] = resolveNode(children[k])))\n\n        if (newKeyed[oldKey]) {\n          i++\n          continue\n        }\n\n        if (newKey != null && newKey === getKey(oldChildren[i + 1])) {\n          if (oldKey == null) {\n            removeElement(element, oldElements[i], oldChildren[i])\n          }\n          i++\n          continue\n        }\n\n        if (newKey == null || isRecycling) {\n          if (oldKey == null) {\n            patch(element, oldElements[i], oldChildren[i], children[k], isSvg)\n            k++\n          }\n          i++\n        } else {\n          var keyedNode = oldKeyed[newKey] || []\n\n          if (oldKey === newKey) {\n            patch(element, keyedNode[0], keyedNode[1], children[k], isSvg)\n            i++\n          } else if (keyedNode[0]) {\n            patch(\n              element,\n              element.insertBefore(keyedNode[0], oldElements[i]),\n              keyedNode[1],\n              children[k],\n              isSvg\n            )\n          } else {\n            patch(element, oldElements[i], null, children[k], isSvg)\n          }\n\n          newKeyed[newKey] = children[k]\n          k++\n        }\n      }\n\n      while (i < oldChildren.length) {\n        if (getKey(oldChildren[i]) == null) {\n          removeElement(element, oldElements[i], oldChildren[i])\n        }\n        i++\n      }\n\n      for (var i in oldKeyed) {\n        if (!newKeyed[i]) {\n          removeElement(element, oldKeyed[i][0], oldKeyed[i][1])\n        }\n      }\n    }\n    return element\n  }\n}\n","export function assign(source, assignments) {\n  var result = {},\n    i\n  for (i in source) result[i] = source[i]\n  for (i in assignments) result[i] = assignments[i]\n  return result\n}\n\nexport function omit(object, keys) {\n  var copy = {}\n  Object.keys(object)\n    .filter(function(key) {\n      return keys.indexOf(key) === -1\n    })\n    .forEach(function(key) {\n      copy[key] = object[key]\n    })\n  return copy\n}\n","export var ACTION = \"action\"\nexport var FRAME = \"frame\"\nexport var DELAY = \"delay\"\nexport var TIME = \"time\"\nexport var LOG = \"log\"\nexport var HTTP = \"http\"\nexport var EVENT = \"event\"\nexport var KEY_DOWN = \"keydown\"\nexport var KEY_UP = \"keyup\"\nexport var RANDOM = \"random\"\nexport var DEBOUNCE = \"debounce\"\nexport var THROTTLE = \"throttle\"\n","import {\n  ACTION,\n  FRAME,\n  DELAY,\n  TIME,\n  LOG,\n  HTTP,\n  EVENT,\n  KEY_DOWN,\n  KEY_UP,\n  RANDOM,\n  DEBOUNCE,\n  THROTTLE\n} from \"./fxTypes\"\nimport { assign, omit } from \"./utils.js\"\n\nexport default function makeDefaultFx() {\n  var fx = {}\n\n  fx[ACTION] = function(props, getAction) {\n    getAction(props.name)(props.data)\n  }\n\n  fx[FRAME] = function(props, getAction) {\n    requestAnimationFrame(function(time) {\n      getAction(props.action)(time)\n    })\n  }\n\n  fx[DELAY] = function(props, getAction) {\n    setTimeout(function() {\n      getAction(props.action)(props.data)\n    }, props.duration)\n  }\n\n  fx[TIME] = function(props, getAction) {\n    getAction(props.action)(performance.now())\n  }\n\n  fx[LOG] = function(props) {\n    // eslint-disable-next-line no-console\n    console.log.apply(null, props.args)\n  }\n\n  fx[HTTP] = function(props, getAction) {\n    var options = assign(\n      {\n        response: \"json\",\n        error: props.action\n      },\n      props.options\n    )\n    var fetchOptions = omit(options, [\"response\", \"error\"])\n    fetch(props.url, fetchOptions)\n      .then(function(response) {\n        if (!response.ok) {\n          throw response\n        }\n        return response\n      })\n      .then(function(response) {\n        return response[options.response]()\n      })\n      .then(function(result) {\n        getAction(props.action)(result)\n      })\n      .catch(function(error) {\n        getAction(options.error)(error)\n      })\n  }\n\n  fx[EVENT] = function(props, getAction) {\n    getAction(props.action)(props.event)\n  }\n\n  fx[KEY_DOWN] = function(props, getAction) {\n    document.onkeydown = function(keyEvent) {\n      getAction(props.action)(keyEvent)\n    }\n  }\n\n  fx[KEY_UP] = function(props, getAction) {\n    document.onkeyup = function(keyEvent) {\n      getAction(props.action)(keyEvent)\n    }\n  }\n\n  fx[RANDOM] = function(props, getAction) {\n    var randomValue = Math.random() * (props.max - props.min) + props.min\n    getAction(props.action)(randomValue)\n  }\n\n  var debounceTimeouts = {}\n  fx[DEBOUNCE] = function(props, getAction) {\n    return (function(props, getAction) {\n      clearTimeout(debounceTimeouts[props.action])\n      debounceTimeouts[props.action] = setTimeout(function() {\n        getAction(props.action)(props.data)\n      }, props.wait)\n    })(props, getAction)\n  }\n\n  var throttleLocks = {}\n  fx[THROTTLE] = function(props, getAction) {\n    return (function(props, getAction) {\n      if (!throttleLocks[props.action]) {\n        getAction(props.action)(props.data)\n        throttleLocks[props.action] = true\n        setTimeout(function() {\n          throttleLocks[props.action] = false\n        }, props.rate)\n      }\n    })(props, getAction)\n  }\n\n  return fx\n}\n","import { assign } from \"./utils.js\"\nimport makeDefaultFx from \"./makeDefaultFx\"\n\nvar isFx = Array.isArray\nvar isFn = function(value) {\n  return typeof value === \"function\"\n}\n\nfunction getActionNamed(actions, name) {\n  function getNextAction(partialActions, paths) {\n    var nextAction = partialActions[paths[0]]\n    if (!nextAction) {\n      throw new Error(\"couldn't find action: \" + name)\n    }\n    return paths.length === 1\n      ? nextAction\n      : getNextAction(nextAction, paths.slice(1))\n  }\n  return getNextAction(actions, name.split(\".\"))\n}\n\nfunction runIfFx(actions, currentEvent, maybeFx, fx) {\n  if (!isFx(maybeFx)) {\n    // Not an effect\n    return maybeFx\n  } else if (isFx(maybeFx[0])) {\n    // Run an array of effects\n    for (var i in maybeFx) {\n      runIfFx(actions, currentEvent, maybeFx[i], fx)\n    }\n  } else if (maybeFx.length) {\n    // Run a single effect\n    var getAction = getActionNamed.bind(null, actions)\n    var type = maybeFx[0]\n    var props = assign(maybeFx[1], { event: currentEvent })\n    var fxRunner = fx[type]\n    if (isFn(fxRunner)) {\n      fxRunner(props, getAction)\n    } else {\n      throw new Error(\"no such fx type: \" + type)\n    }\n  }\n}\n\nfunction enhanceActions(actionsTemplate, fx) {\n  return Object.keys(actionsTemplate || {}).reduce(function(\n    otherActions,\n    name\n  ) {\n    var action = actionsTemplate[name]\n    otherActions[name] = isFn(action)\n      ? function(data) {\n          return function(state, actions) {\n            var result = action(data)\n            result = isFn(result) ? result(state, actions) : result\n            return runIfFx(actions, null, result, fx)\n          }\n        }\n      : enhanceActions(action, fx)\n    return otherActions\n  },\n  {})\n}\n\nfunction handleEventFx(actions, currentFx, fx) {\n  return function(currentEvent) {\n    runIfFx(actions, currentEvent, currentFx, fx)\n  }\n}\n\nfunction makeEnhancedView(view, fx) {\n  function patchVdomFx(actions, vdom) {\n    if (typeof vdom === \"object\") {\n      for (var key in vdom.attributes) {\n        var maybeFx = vdom.attributes[key]\n        if (isFx(maybeFx)) {\n          vdom.attributes[key] = handleEventFx(actions, maybeFx, fx)\n        }\n      }\n      for (var i in vdom.children) {\n        if (isFn(vdom.children[i])) {\n          vdom.children[i] = makeEnhancedView(vdom.children[i], fx)\n        } else {\n          patchVdomFx(actions, vdom.children[i], fx)\n        }\n      }\n    }\n  }\n  return function(state, actions) {\n    var vdom = view(state, actions)\n    patchVdomFx(actions, vdom, fx)\n    return vdom\n  }\n}\n\nfunction makeFxApp(fx, nextApp) {\n  return function(initialState, actionsTemplate, view, container) {\n    var enhancedActions = enhanceActions(actionsTemplate, fx)\n    var enhancedView = makeEnhancedView(view, fx)\n\n    var appActions = nextApp(\n      initialState,\n      enhancedActions,\n      enhancedView,\n      container\n    )\n    return appActions\n  }\n}\n\nexport function withFx(fxOrApp) {\n  var fx = makeDefaultFx()\n  if (typeof fxOrApp === \"function\") {\n    return makeFxApp(fx, fxOrApp)\n  } else {\n    for (var name in fxOrApp) {\n      fx[name] = fxOrApp[name]\n    }\n    return function(nextApp) {\n      return makeFxApp(fx, nextApp)\n    }\n  }\n}\n","import {\n  ACTION,\n  FRAME,\n  DELAY,\n  TIME,\n  LOG,\n  HTTP,\n  EVENT,\n  KEY_DOWN,\n  KEY_UP,\n  RANDOM,\n  DEBOUNCE,\n  THROTTLE\n} from \"./fxTypes\"\n\nexport function action(name, data) {\n  return [\n    ACTION,\n    {\n      name: name,\n      data: data\n    }\n  ]\n}\n\nexport function frame(action) {\n  return [\n    FRAME,\n    {\n      action: action\n    }\n  ]\n}\n\nexport function delay(duration, action, data) {\n  return [\n    DELAY,\n    {\n      duration: duration,\n      action: action,\n      data: data\n    }\n  ]\n}\n\nexport function time(action) {\n  return [\n    TIME,\n    {\n      action: action\n    }\n  ]\n}\n\nexport function log() {\n  return [\n    LOG,\n    {\n      args: arguments\n    }\n  ]\n}\n\nexport function http(url, action, options) {\n  return [\n    HTTP,\n    {\n      url: url,\n      action: action,\n      options: options\n    }\n  ]\n}\n\nexport function event(action) {\n  return [\n    EVENT,\n    {\n      action: action\n    }\n  ]\n}\n\nexport function keydown(action) {\n  return [\n    KEY_DOWN,\n    {\n      action: action\n    }\n  ]\n}\n\nexport function keyup(action) {\n  return [\n    KEY_UP,\n    {\n      action: action\n    }\n  ]\n}\n\nexport function random(action, min, max) {\n  return [\n    RANDOM,\n    {\n      action: action,\n      min: min || 0,\n      max: max || 1\n    }\n  ]\n}\n\nexport function debounce(wait, action, data) {\n  return [\n    DEBOUNCE,\n    {\n      wait: wait,\n      action: action,\n      data: data\n    }\n  ]\n}\n\nexport function throttle(rate, action, data) {\n  return [\n    THROTTLE,\n    {\n      rate: rate,\n      action: action,\n      data: data\n    }\n  ]\n}\n","export function fxIf(fxSpecs) {\n  return fxSpecs\n    .filter(function(fxSpec) {\n      // first element is the conditional\n      return fxSpec[0]\n    })\n    .map(function(fxSpec) {\n      // second element is the effect to include\n      return fxSpec[1]\n    })\n}\n","export { withFx } from \"./withFx\"\nexport * from \"./fxCreators\"\nexport { fxIf } from \"./fxIf\"\n","const state = {\n  colors: [],\n  copied: false,\n  outputUrl: '',\n  placeholder: 'Add a url to a palette, e.g. http://www.colourlovers.com/palette/id',\n  sourceUrl: '',\n  apiUrl: ''\n};\n\nexport default state;\n","var index = typeof fetch=='function' ? fetch.bind() : function(url, options) {\n\toptions = options || {};\n\treturn new Promise( function (resolve, reject) {\n\t\tvar request = new XMLHttpRequest();\n\n\t\trequest.open(options.method || 'get', url);\n\n\t\tfor (var i in options.headers) {\n\t\t\trequest.setRequestHeader(i, options.headers[i]);\n\t\t}\n\n\t\trequest.withCredentials = options.credentials=='include';\n\n\t\trequest.onload = function () {\n\t\t\tresolve(response());\n\t\t};\n\n\t\trequest.onerror = reject;\n\n\t\trequest.send(options.body);\n\n\t\tfunction response() {\n\t\t\tvar keys = [],\n\t\t\t\tall = [],\n\t\t\t\theaders = {},\n\t\t\t\theader;\n\n\t\t\trequest.getAllResponseHeaders().replace(/^(.*?):\\s*([\\s\\S]*?)$/gm, function (m, key, value) {\n\t\t\t\tkeys.push(key = key.toLowerCase());\n\t\t\t\tall.push([key, value]);\n\t\t\t\theader = headers[key];\n\t\t\t\theaders[key] = header ? (header + \",\" + value) : value;\n\t\t\t});\n\n\t\t\treturn {\n\t\t\t\tok: (request.status/200|0) == 1,\t\t// 200-299\n\t\t\t\tstatus: request.status,\n\t\t\t\tstatusText: request.statusText,\n\t\t\t\turl: request.responseURL,\n\t\t\t\tclone: response,\n\t\t\t\ttext: function () { return Promise.resolve(request.responseText); },\n\t\t\t\tjson: function () { return Promise.resolve(request.responseText).then(JSON.parse); },\n\t\t\t\tblob: function () { return Promise.resolve(new Blob([request.response])); },\n\t\t\t\theaders: {\n\t\t\t\t\tkeys: function () { return keys; },\n\t\t\t\t\tentries: function () { return all; },\n\t\t\t\t\tget: function (n) { return headers[n.toLowerCase()]; },\n\t\t\t\t\thas: function (n) { return n.toLowerCase() in headers; }\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\t});\n};\n\nexport default index;\n//# sourceMappingURL=unfetch.es.js.map\n","/**\n * hex2rgb\n * https://github.com/glnster/hex2rgb\n *\n * Copyright (c) 2015 Glenn Cueto\n * Licensed under the MIT license.\n *\n * Converts hex color to rgb. Calculates corresponding foreground.\n *\n * @param {string} hex - The hex color to be converted. Can be 3 or 6 HEX-ONLY chars.\n * Optional options object:\n * @param {boolean} debug - Default=false.\n * @param {string} rgbStringDefault - A default rgbString will return, e.g. \"inherit\" or \"white\" or \"#e9e9e9\".\n * @param {string} yiqDefault - A default yiq will return, e.g. \"inherit\" or \"black\" or \"#333\".\n * @return {array} rgb - [x,x,x] or default [255,255,255].\n * @return {string} rgbString - rgb(x,x,x). Defaults to 'inherit' or rgbStringDefault's value.\n * @return {string} yiq - 'black' or 'white' as a foreground color\n *                        against the given hex. Defaults to 'inherit' or yiqDefault's value.\n */\n\nvar hex2rgb = function(hex, options) {\n  'use strict';\n\n  // checks and defaults\n  if (typeof hex !== 'string') {\n    throw new TypeError('Expected a string');\n  }\n\n  hex = hex.replace(/^#/, '');\n\n  options = options || {};\n  options.debug = (typeof options.debug === 'boolean') ? options.debug : false;\n  options.rgbStringDefault = (typeof options.rgbStringDefault === 'string') ? options.rgbStringDefault : 'inherit';\n  options.yiqDefault = (typeof options.yiqDefault === 'string') ? options.yiqDefault : 'inherit';\n\n  var hlen = hex.length,\n    cleanHex,\n    RGB = [255, 255, 255],\n    rgbString = options.rgbStringDefault,\n    yiqres = options.yiqDefault;\n\n  // expand hex input\n  if (hlen === 3) {\n    hex = hex[0] + hex[0] + hex[1] + hex[1] + hex[2] + hex[2];\n  }\n\n  // check for hex-only chars\n  cleanHex = /^([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex);\n\n  if (cleanHex !== null) {\n    var num = parseInt(cleanHex, 16);\n    RGB = [num >> 16, num >> 8 & 255, num & 255];\n    rgbString = 'rgb(' + RGB[0] + ', ' + RGB[1] + ', ' + RGB[2] + ')';\n\n    var yiq = ((RGB[0] * 299) + (RGB[1] * 587) + (RGB[2] * 114)) / 1000;\n    yiqres = (yiq >= 128 || isNaN(yiq)) ? 'black' : 'white';\n\n  } else if (options.debug === true) {\n    console.error('(hex2rgb) ' + hex + ': Expected 3 or 6 HEX-ONLY chars. Returning defaults.');\n  }\n\n  return {\n    rgb: RGB,\n    rgbString: rgbString,\n    yiq: yiqres\n  };\n\n};\n\nmodule.exports = hex2rgb;","import { action, http } from \"@hyperapp/fx\"\nimport fetch from 'unfetch'\nimport hex2rgb from 'hex2rgb'\n\nconst actions = {\n  getPalette: () => state => [\n    action('setColors', '...'),\n    // action('setApiUrl', state.sourceUrl),\n    http(\n      `http://www.colourlovers.com/api/pattern/${state.sourceUrl.replace('http://www.colourlovers.com/palette/','').match(/([0-9])[^\\/]*/)[0]}?format=json`,\n      'paletteFetched'\n    )\n  ],\n  setApiUrl: sourceUrl => state => {\n    const baseUrl = 'http://www.colourlovers.com/palette/'\n    const trimmedUrl = sourceUrl.replace(baseUrl,'')\n    const paletteId = trimmedUrl.match(/([0-9])[^\\/]*/)[0]\n\n    return { \n      apiUrl: `http://www.colourlovers.com/api/pattern/${paletteId}?format=json`\n    }\n  },\n  paletteFetched: ([{ colors, title }]) => [\n    action('setColors', colors),\n    action('setTitle', title),\n    action('genOutput')\n  ],\n  setColors: colors => ({ colors }),\n  setTitle: title => ({ title }),\n  genOutput: () => (state, actions) => {\n    const parsedColors = state.colors.map(toRGBA)\n    const theme = {\n      colors: { \n        toolbar: getRandomColor(parsedColors),\n        toolbar_text: getRandomColor(parsedColors),\n        accentcolor: getRandomColor(parsedColors),\n        textcolor: getRandomColor(parsedColors),\n        toolbar_field: getRandomColor(parsedColors),\n        toolbar_field_text: getRandomColor(parsedColors),\n        tab_line: getRandomColor(parsedColors) \n      },\n      images: {\n        additional_backgrounds: [ './bg-000.svg' ] \n      },\n      title: state.title\n    }\n\n    window.JsonUrl('lzma').compress(theme).then(actions.setOutput)\n  },\n  setOutput: encodedTheme => ({ \n    outputUrl: `https://color.firefox.com/?theme=${encodedTheme}`\n  }),\n  input: ({ value }) => ({ sourceUrl: value }),\n  copy: () => {\n    const copyTextarea = document.querySelectorAll('input')[1]\n    copyTextarea.focus()\n    copyTextarea.select()\n\n    document.execCommand('copy')\n\n    return { copied: true }\n  },\n  resetCopytext: () => ({ copied: false }),\n  remove: hex => [\n    action('removeColor', hex),\n    action('resetCopytext'),\n    action('genOutput')\n  ],\n  removeColor: hex => state => ({\n    colors: state.colors.filter(color => color !== hex)\n  })\n}\n\nconst toRGBA = hex => {\n  const { rgb } = hex2rgb(hex)\n  return { r: rgb[0], g: rgb[1], b: rgb[2], a: 1 }\n}\n\nconst getRandomColor = colors => colors[Math.floor(Math.random() * colors.length)]\n\nexport default actions\n","var _id = 0\nvar sheet = document.head.appendChild(document.createElement(\"style\")).sheet\n\nfunction hyphenate(str) {\n  return str.replace(/[A-Z]/g, \"-$&\").toLowerCase()\n}\n\nfunction insert(rule) {\n  sheet.insertRule(rule, sheet.cssRules.length)\n}\nfunction createStyle(obj) {\n  var id = \"p\" + _id++\n  parse(obj, \".\" + id).forEach(insert)\n  return id\n}\nfunction wrap(stringToWrap, wrapper) {\n  return wrapper + \"{\" + stringToWrap + \"}\"\n}\n\nfunction parse(obj, classname, isInsideObj) {\n  var arr = [\"\"]\n  isInsideObj = isInsideObj || 0\n  for (var prop in obj) {\n    var value = obj[prop]\n    prop = hyphenate(prop)\n    // Same as typeof value === 'object', but smaller\n    if (!value.sub) {\n      if (/^(:|>|\\.|\\*)/.test(prop)) {\n        prop = classname + prop\n      }\n      // replace & in \"&:hover\", \"p>&\"\n      prop = prop.replace(/&/g, classname)\n      arr.push(\n        wrap(parse(value, classname, 1 && !/^@/.test(prop)).join(\"\"), prop)\n      )\n    } else {\n      arr[0] += prop + \":\" + value + \";\"\n    }\n  }\n  if (!isInsideObj) {\n    arr[0] = wrap(arr[0], classname)\n  }\n  return arr\n}\nexport default function(h) {\n  return function(nodeName) {\n    var cache = {}\n    return function(decls) {\n      return function(attributes, children) {\n        attributes = attributes || {}\n        children = attributes.children || children\n        var nodeDecls = typeof decls == \"function\" ? decls(attributes) : decls\n        var key = JSON.stringify(nodeDecls)\n        cache[key] || (cache[key] = createStyle(nodeDecls))\n        attributes.class = [attributes.class, cache[key]]\n          .filter(Boolean)\n          .join(\" \")\n        return h(nodeName, attributes, children)\n      }\n    }\n  }\n}\nexport function keyframes(obj) {\n  var id = \"p\" + _id++\n  insert(wrap(parse(obj, id, 1).join(\"\"), \"@keyframes \" + id))\n  return id\n}\n","import { h } from 'hyperapp'\nimport { action } from '@hyperapp/fx'\nimport picostyle from 'picostyle'\n\nconst style = picostyle(h)\n\nconst black = '#000';\nconst white = '#fff';\nconst offWhite = '#e8e8e8';\nconst primaryColor = '#777';\nconst secondaryColor = '#aaa';\nconst tertiaryColor = '#ccc';\nconst bgColor = '#fff';\nconst baseFont = 'Helvetica Neue, sans-serif';\nconst headingFont = 'Fira Sans, sans-serif';\n\nconst Wrapper = style('div')({\n  paddingTop: '50px',\n  display: 'flex',\n  fontFamily: baseFont,\n  flexDirection: 'column',\n  justifyContent: 'center'\n})\n\nconst Swatch = style('div')(props => ({\n  backgroundColor: `#${props.color}`,\n  border: `1px solid ${black}`,\n  width: '80px',\n  height: '80px'\n}))\n\nconst ColorItem = style('li')({\n  alignItems: 'center',\n  color: secondaryColor,\n  display: 'flex',\n  fontSize: '1.6em',\n  justifyContent: 'space-between',\n  margin: '20px',\n})\n\nconst ColorList = style('ul')({\n  margin: '0 auto',\n  width: '400px',\n  padding: '0'\n})\n\nconst InputWrap = style('div')({\n  display: 'flex',\n  justifyContent: 'center'\n})\n\nconst Input = style('input')({\n  border: 'none',\n  borderBottom: `2px solid ${secondaryColor}`,\n  fontSize: '1em',\n  width: '300px',\n  height: '10px',\n  padding: '10px',\n  transition: 'all 0.4s',\n\n  \":focus\": {\n    background: offWhite,\n    outline: '0'\n  }\n})\n\nconst Button = style('button')(props => ({\n  border: `2px solid ${secondaryColor}`,\n  borderRadius: '8px',\n  color: primaryColor,\n  cursor: 'pointer',\n  fontSize: `${ props.small ? '0.5em' : '1em' }`,\n  marginLeft: '1em',\n  transition: 'all 0.1s',\n\n  \":focus\": {\n    outline: '0'\n  },\n\n  \":active\": {\n    color: black,\n    background: offWhite\n  }\n}))\n\nconst Header = style('h1')({\n  color: secondaryColor,\n  cursor: 'default',\n  fontSize: '4.2em',\n  fontFamily: headingFont,\n  marginBottom: '10px',\n  textAlign: 'center',\n\n  strong: {\n    color: primaryColor\n  }\n})\n\nconst Subhead = style('p')({\n  marginBottom: '20px',\n  textAlign: 'center',\n\n  a: {\n    color: primaryColor,\n    textDecoration: 'none',\n    borderBottom: `2px solid ${primaryColor}`\n  }\n})\n\nconst Footer = style('div')({\n  marginBottom: '80px'\n})\n\nconst Color = ({ hex, remove }) => (\n  <ColorItem id={hex} key={hex}>\n    <Swatch color={hex} /> #{hex} <Button small title='Remove color' onclick={() => remove(hex)}>x</Button>\n  </ColorItem>\n)\n\nconst Source = ({ get, input, value, placeholder }) => (\n  <InputWrap>\n    <Input\n      type='text'\n      onkeyup={e => (e.keyCode === 13 ? get() : null)}\n      oninput={e => input({ value: e.target.value })}\n      value={value}\n      placeholder={placeholder}\n    />\n    <Button title='Fetch palette' onclick={get}>Fetch</Button>\n  </InputWrap>\n)\n\nconst Output = ({ value, copy, copied }) => state => (\n  <div>\n    <Subhead>Here's your theme!</Subhead>\n    <InputWrap>\n      <Input\n        class='js_copy'\n        type='text'\n        value={value}\n        placeholder='Enjoy!'\n      />\n      <Button title='Copy to clipboard' onclick={copy}>{copied ? 'Copied!' : 'Copy'}</Button>\n    </InputWrap>\n  </div>\n)\n\nconst view = (state, actions) => (\n  <Wrapper>\n    <Header>Firefox <strong>Color</strong>lovers</Header>\n    <Subhead>Import one of over <a href='//colourlovers.com/palettes' target='_blank'>4,577,158</a> user-created color palettes to <a href='//color.firefox.com/'>colorize</a> your browser.</Subhead>\n    <Source\n      get={action('getPalette')}\n      input={actions.input}\n      value={state.sourceUrl}\n      placeholder={state.placeholder}\n    />\n    <ColorList>\n      {state.colors.map && state.colors.map(color => (\n        <Color\n          hex={color}\n          remove={actions.remove}\n        />\n      ))}\n    </ColorList>\n    {state.outputUrl && <Output \n      value={state.outputUrl} \n      copy={actions.copy} \n      copied={state.copied} \n    />}\n    <Footer />\n  </Wrapper>\n)\n\nexport default view\n","import { app } from 'hyperapp'\nimport { withFx } from \"@hyperapp/fx\"\n\nimport state from './js/state.js'\nimport actions from './js/actions.js'\nimport view from './js/view.js'\n\nconst main = withFx(app)(state, actions, view, document.body);\n"]}