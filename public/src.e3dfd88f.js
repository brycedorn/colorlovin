parcelRequire=function(e,r,n,t){var i="function"==typeof parcelRequire&&parcelRequire,o="function"==typeof require&&require;function u(n,t){if(!r[n]){if(!e[n]){var f="function"==typeof parcelRequire&&parcelRequire;if(!t&&f)return f(n,!0);if(i)return i(n,!0);if(o&&"string"==typeof n)return o(n);var c=new Error("Cannot find module '"+n+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[n][1][r]||r};var l=r[n]=new u.Module(n);e[n][0].call(l.exports,p,l,l.exports,this)}return r[n].exports;function p(e){return u(p.resolve(e))}}u.isParcelRequire=!0,u.Module=function(e){this.id=e,this.bundle=u,this.exports={}},u.modules=e,u.cache=r,u.parent=i,u.register=function(r,n){e[r]=[function(e,r){r.exports=n},{}]};for(var f=0;f<n.length;f++)u(n[f]);if(n.length){var c=u(n[n.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=c:"function"==typeof define&&define.amd?define(function(){return c}):t&&(this[t]=c)}return u}({12:[function(require,module,exports) {
"use strict";function e(e,n){for(var t=[],r=[],o=arguments.length;o-- >2;)t.push(arguments[o]);for(;t.length;){var u=t.pop();if(u&&u.pop)for(o=u.length;o--;)t.push(u[o]);else null!=u&&!0!==u&&!1!==u&&r.push(u)}return"function"==typeof e?e(n||{},r):{nodeName:e,attributes:n||{},children:r,key:n&&n.key}}function n(e,n,t,r){var o,u=[].map,l=r&&r.children[0]||null,i=l&&function e(n){return{nodeName:n.nodeName.toLowerCase(),attributes:{},children:u.call(n.childNodes,function(n){return 3===n.nodeType?n.nodeValue:e(n)})}}(l),a=[],f=!0,c=p(e),s=function e(n,t,r){for(var o in r)"function"==typeof r[o]?function(e,o){r[e]=function(e){var u=o(e);return"function"==typeof u&&(u=u(g(n,c),r)),u&&u!==(t=g(n,c))&&!u.then&&h(c=m(n,p(t,u),c)),u}}(o,r[o]):e(n.concat(o),t[o]=p(t[o]),r[o]=p(r[o]));return r}([],c,p(n));return h(),s;function v(e){return"function"==typeof e?v(e(c,s)):null!=e?e:""}function d(){o=!o;var e=v(t);for(r&&!o&&(l=function e(n,t,r,o,u){if(o===r);else if(null==r||r.nodeName!==o.nodeName){var l=function e(n,t){var r="string"==typeof n||"number"==typeof n?document.createTextNode(n):(t=t||"svg"===n.nodeName)?document.createElementNS("http://www.w3.org/2000/svg",n.nodeName):document.createElement(n.nodeName);var o=n.attributes;if(o){o.oncreate&&a.push(function(){o.oncreate(r)});for(var u=0;u<n.children.length;u++)r.appendChild(e(n.children[u]=v(n.children[u]),t));for(var l in o)b(r,l,o[l],null,t)}return r}(o,u);n.insertBefore(l,t),null!=r&&k(n,t,r),t=l}else if(null==r.nodeName)t.nodeValue=o;else{!function(e,n,t,r){for(var o in p(n,t))t[o]!==("value"===o||"checked"===o?e[o]:n[o])&&b(e,o,t[o],n[o],r);var u=f?t.oncreate:t.onupdate;u&&a.push(function(){u(e,n)})}(t,r.attributes,o.attributes,u=u||"svg"===o.nodeName);for(var i={},c={},s=[],d=r.children,h=o.children,m=0;m<d.length;m++){s[m]=t.childNodes[m];var g=y(d[m]);null!=g&&(i[g]=[s[m],d[m]])}for(var m=0,N=0;N<h.length;){var g=y(d[m]),w=y(h[N]=v(h[N]));if(c[g])m++;else if(null==w||w!==y(d[m+1]))if(null==w||f)null==g&&(e(t,s[m],d[m],h[N],u),N++),m++;else{var x=i[w]||[];g===w?(e(t,x[0],x[1],h[N],u),m++):x[0]?e(t,t.insertBefore(x[0],s[m]),x[1],h[N],u):e(t,s[m],null,h[N],u),c[w]=h[N],N++}else null==g&&k(t,s[m],d[m]),m++}for(;m<d.length;)null==y(d[m])&&k(t,s[m],d[m]),m++;for(var m in i)c[m]||k(t,i[m][0],i[m][1])}return t}(r,l,i,i=e)),f=!1;a.length;)a.pop()()}function h(){o||(o=!0,setTimeout(d))}function p(e,n){var t={};for(var r in e)t[r]=e[r];for(var r in n)t[r]=n[r];return t}function m(e,n,t){var r={};return e.length?(r[e[0]]=e.length>1?m(e.slice(1),n,t[e[0]]):n,p(t,r)):n}function g(e,n){for(var t=0;t<e.length;)n=n[e[t++]];return n}function y(e){return e?e.key:null}function N(e){return e.currentTarget.events[e.type](e)}function b(e,n,t,r,o){if("key"===n);else if("style"===n)for(var u in p(r,t)){var l=null==t||null==t[u]?"":t[u];"-"===u[0]?e[n].setProperty(u,l):e[n][u]=l}else"o"===n[0]&&"n"===n[1]?(n=n.slice(2),e.events?r||(r=e.events[n]):e.events={},e.events[n]=t,t?r||e.addEventListener(n,N):e.removeEventListener(n,N)):n in e&&"list"!==n&&!o?e[n]=null==t?"":t:null!=t&&!1!==t&&e.setAttribute(n,t),null!=t&&!1!==t||e.removeAttribute(n)}function k(e,n,t){function r(){e.removeChild(function e(n,t){var r=t.attributes;if(r){for(var o=0;o<t.children.length;o++)e(n.childNodes[o],t.children[o]);r.ondestroy&&r.ondestroy(n)}return n}(n,t))}var o=t.attributes&&t.attributes.onremove;o?o(n,r):r()}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.h=e,exports.app=n;
},{}],28:[function(require,module,exports) {
"use strict";function e(e,r){var t,n={};for(t in e)n[t]=e[t];for(t in r)n[t]=r[t];return n}function r(e,r){var t={};return Object.keys(e).filter(function(e){return-1===r.indexOf(e)}).forEach(function(r){t[r]=e[r]}),t}Object.defineProperty(exports,"__esModule",{value:!0}),exports.assign=e,exports.omit=r;
},{}],29:[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=exports.ACTION="action",t=exports.FRAME="frame",o=exports.DELAY="delay",r=exports.TIME="time",p=exports.LOG="log",s=exports.HTTP="http",x=exports.EVENT="event",E=exports.KEY_DOWN="keydown",T=exports.KEY_UP="keyup",O=exports.RANDOM="random",a=exports.DEBOUNCE="debounce",d=exports.THROTTLE="throttle";
},{}],30:[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=o;var n=require("./fxTypes"),t=require("./utils.js");function o(){var o={};o[n.ACTION]=function(n,t){t(n.name)(n.data)},o[n.FRAME]=function(n,t){requestAnimationFrame(function(o){t(n.action)(o)})},o[n.DELAY]=function(n,t){setTimeout(function(){t(n.action)(n.data)},n.duration)},o[n.TIME]=function(n,t){t(n.action)(performance.now())},o[n.LOG]=function(n){console.log.apply(null,n.args)},o[n.HTTP]=function(n,o){var i=(0,t.assign)({response:"json",error:n.action},n.options),e=(0,t.omit)(i,["response","error"]);fetch(n.url,e).then(function(n){if(!n.ok)throw n;return n}).then(function(n){return n[i.response]()}).then(function(t){o(n.action)(t)}).catch(function(n){o(i.error)(n)})},o[n.EVENT]=function(n,t){t(n.action)(n.event)},o[n.KEY_DOWN]=function(n,t){document.onkeydown=function(o){t(n.action)(o)}},o[n.KEY_UP]=function(n,t){document.onkeyup=function(o){t(n.action)(o)}},o[n.RANDOM]=function(n,t){var o=Math.random()*(n.max-n.min)+n.min;t(n.action)(o)};var i={};o[n.DEBOUNCE]=function(n,t){return function(n,t){clearTimeout(i[n.action]),i[n.action]=setTimeout(function(){t(n.action)(n.data)},n.wait)}(n,t)};var e={};return o[n.THROTTLE]=function(n,t){return function(n,t){e[n.action]||(t(n.action)(n.data),e[n.action]=!0,setTimeout(function(){e[n.action]=!1},n.rate))}(n,t)},o}
},{"./fxTypes":29,"./utils.js":28}],16:[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.withFx=v;var r=require("./utils.js"),n=require("./makeDefaultFx"),t=e(n);function e(r){return r&&r.__esModule?r:{default:r}}var u=Array.isArray,i=function(r){return"function"==typeof r};function f(r,n){return function r(t,e){var u=t[e[0]];if(!u)throw new Error("couldn't find action: "+n);return 1===e.length?u:r(u,e.slice(1))}(r,n.split("."))}function o(n,t,e,c){if(!u(e))return e;if(u(e[0]))for(var a in e)o(n,t,e[a],c);else if(e.length){var l=f.bind(null,n),s=e[0],v=(0,r.assign)(e[1],{event:t}),d=c[s];if(!i(d))throw new Error("no such fx type: "+s);d(v,l)}}function c(r,n){return Object.keys(r||{}).reduce(function(t,e){var u=r[e];return t[e]=i(u)?function(r){return function(t,e){var f=u(r);return o(e,null,f=i(f)?f(t,e):f,n)}}:c(u,n),t},{})}function a(r,n,t){return function(e){o(r,e,n,t)}}function l(r,n){return function(t,e){var f=r(t,e);return function r(t,e){if("object"==typeof e){for(var f in e.attributes){var o=e.attributes[f];u(o)&&(e.attributes[f]=a(t,o,n))}for(var c in e.children)i(e.children[c])?e.children[c]=l(e.children[c],n):r(t,e.children[c])}}(e,f),f}}function s(r,n){return function(t,e,u,i){var f=c(e,r),o=l(u,r);return n(t,f,o,i)}}function v(r){var n=(0,t.default)();if("function"==typeof r)return s(n,r);for(var e in r)n[e]=r[e];return function(r){return s(n,r)}}
},{"./utils.js":28,"./makeDefaultFx":30}],17:[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.action=n,exports.frame=r,exports.delay=e,exports.time=o,exports.log=u,exports.http=i,exports.event=a,exports.keydown=c,exports.keyup=s,exports.random=p,exports.debounce=f,exports.throttle=x;var t=require("./fxTypes");function n(n,r){return[t.ACTION,{name:n,data:r}]}function r(n){return[t.FRAME,{action:n}]}function e(n,r,e){return[t.DELAY,{duration:n,action:r,data:e}]}function o(n){return[t.TIME,{action:n}]}function u(){return[t.LOG,{args:arguments}]}function i(n,r,e){return[t.HTTP,{url:n,action:r,options:e}]}function a(n){return[t.EVENT,{action:n}]}function c(n){return[t.KEY_DOWN,{action:n}]}function s(n){return[t.KEY_UP,{action:n}]}function p(n,r,e){return[t.RANDOM,{action:n,min:r||0,max:e||1}]}function f(n,r,e){return[t.DEBOUNCE,{wait:n,action:r,data:e}]}function x(n,r,e){return[t.THROTTLE,{rate:n,action:r,data:e}]}
},{"./fxTypes":29}],18:[function(require,module,exports) {
"use strict";function e(e){return e.filter(function(e){return e[0]}).map(function(e){return e[1]})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.fxIf=e;
},{}],13:[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("./withFx");Object.defineProperty(exports,"withFx",{enumerable:!0,get:function(){return e.withFx}});var r=require("./fxCreators");Object.keys(r).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return r[e]}})});var t=require("./fxIf");Object.defineProperty(exports,"fxIf",{enumerable:!0,get:function(){return t.fxIf}});
},{"./withFx":16,"./fxCreators":17,"./fxIf":18}],6:[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e={colors:[],copied:!1,outputUrl:"",placeholder:"Add a url to a palette, e.g. http://www.colourlovers.com/palette/id",sourceUrl:"",apiUrl:""};exports.default=e;
},{}],23:[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e="function"==typeof fetch?fetch.bind():function(e,t){return t=t||{},new Promise(function(n,r){var s=new XMLHttpRequest;for(var o in s.open(t.method||"get",e),t.headers)s.setRequestHeader(o,t.headers[o]);function u(){var e,t=[],n=[],r={};return s.getAllResponseHeaders().replace(/^(.*?):\s*([\s\S]*?)$/gm,function(s,o,u){t.push(o=o.toLowerCase()),n.push([o,u]),e=r[o],r[o]=e?e+","+u:u}),{ok:1==(s.status/200|0),status:s.status,statusText:s.statusText,url:s.responseURL,clone:u,text:function(){return Promise.resolve(s.responseText)},json:function(){return Promise.resolve(s.responseText).then(JSON.parse)},blob:function(){return Promise.resolve(new Blob([s.response]))},headers:{keys:function(){return t},entries:function(){return n},get:function(e){return r[e.toLowerCase()]},has:function(e){return e.toLowerCase()in r}}}}s.withCredentials="include"==t.credentials,s.onload=function(){n(u())},s.onerror=r,s.send(t.body)})};exports.default=e;
},{}],24:[function(require,module,exports) {
var e=function(e,r){"use strict";if("string"!=typeof e)throw new TypeError("Expected a string");e=e.replace(/^#/,""),(r=r||{}).debug="boolean"==typeof r.debug&&r.debug,r.rgbStringDefault="string"==typeof r.rgbStringDefault?r.rgbStringDefault:"inherit",r.yiqDefault="string"==typeof r.yiqDefault?r.yiqDefault:"inherit";var t,i=e.length,a=[255,255,255],g=r.rgbStringDefault,n=r.yiqDefault;if(3===i&&(e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]),null!==(t=/^([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e))){var f=parseInt(t,16);g="rgb("+(a=[f>>16,f>>8&255,255&f])[0]+", "+a[1]+", "+a[2]+")";var u=(299*a[0]+587*a[1]+114*a[2])/1e3;n=u>=128||isNaN(u)?"black":"white"}else!0===r.debug&&console.error("(hex2rgb) "+e+": Expected 3 or 6 HEX-ONLY chars. Returning defaults.");return{rgb:a,rgbString:g,yiq:n}};module.exports=e;
},{}],7:[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var t=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var r=[],o=!0,n=!1,u=void 0;try{for(var c,l=t[Symbol.iterator]();!(o=(c=l.next()).done)&&(r.push(c.value),!e||r.length!==e);o=!0);}catch(t){n=!0,u=t}finally{try{!o&&l.return&&l.return()}finally{if(n)throw u}}return r}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),e=require("@hyperapp/fx"),r=require("unfetch"),o=c(r),n=require("hex2rgb"),u=c(n);function c(t){return t&&t.__esModule?t:{default:t}}var l={getPalette:function(){return function(t){return[(0,e.action)("setColors","..."),(0,e.http)("http://www.colourlovers.com/api/pattern/"+t.sourceUrl.replace("http://www.colourlovers.com/palette/","").match(/([0-9])[^\/]*/)[0]+"?format=json","paletteFetched")]}},setApiUrl:function(t){return function(e){return{apiUrl:"http://www.colourlovers.com/api/pattern/"+t.replace("http://www.colourlovers.com/palette/","").match(/([0-9])[^\/]*/)[0]+"?format=json"}}},paletteFetched:function(r){var o=t(r,1)[0],n=o.colors,u=o.title;return[(0,e.action)("setColors",n),(0,e.action)("setTitle",u),(0,e.action)("genOutput")]},setColors:function(t){return{colors:t}},setTitle:function(t){return{title:t}},genOutput:function(){return function(t,e){var r=t.colors.map(i),o={colors:{toolbar:a(r),toolbar_text:a(r),accentcolor:a(r),textcolor:a(r),toolbar_field:a(r),toolbar_field_text:a(r),tab_line:a(r)},images:{additional_backgrounds:["./bg-000.svg"]},title:t.title};window.JsonUrl("lzma").compress(o).then(e.setOutput)}},setOutput:function(t){return{outputUrl:"https://color.firefox.com/?theme="+t}},input:function(t){return{sourceUrl:t.value}},copy:function(){var t=document.querySelectorAll("input")[1];return t.focus(),t.select(),document.execCommand("copy"),{copied:!0}},resetCopytext:function(){return{copied:!1}},remove:function(t){return[(0,e.action)("removeColor",t),(0,e.action)("resetCopytext"),(0,e.action)("genOutput")]},removeColor:function(t){return function(e){return{colors:e.colors.filter(function(e){return e!==t})}}}},i=function(t){var e=(0,u.default)(t).rgb;return{r:e[0],g:e[1],b:e[2],a:1}},a=function(t){return t[Math.floor(Math.random()*t.length)]};exports.default=l;
},{"@hyperapp/fx":13,"unfetch":23,"hex2rgb":24}],22:[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e){return function(n){var r={};return function(t){return function(o,s){s=(o=o||{}).children||s;var c="function"==typeof t?t(o):t,i=JSON.stringify(c);return r[i]||(r[i]=u(c)),o.class=[o.class,r[i]].filter(Boolean).join(" "),e(n,o,s)}}}},exports.keyframes=c;var e=0,n=document.head.appendChild(document.createElement("style")).sheet;function r(e){return e.replace(/[A-Z]/g,"-$&").toLowerCase()}function t(e){n.insertRule(e,n.cssRules.length)}function u(n){var r="p"+e++;return s(n,"."+r).forEach(t),r}function o(e,n){return n+"{"+e+"}"}function s(e,n,t){var u=[""];for(var c in t=t||0,e){var i=e[c];c=r(c),i.sub?u[0]+=c+":"+i+";":(/^(:|>|\.|\*)/.test(c)&&(c=n+c),c=c.replace(/&/g,n),u.push(o(s(i,n,!/^@/.test(c)).join(""),c)))}return t||(u[0]=o(u[0],n)),u}function c(n){var r="p"+e++;return t(o(s(n,r,1).join(""),"@keyframes "+r)),r}
},{}],8:[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("hyperapp"),o=require("@hyperapp/fx"),t=require("picostyle"),r=n(t);function n(e){return e&&e.__esModule?e:{default:e}}var l=(0,r.default)(e.h),i="#000",u="#fff",a="#e8e8e8",c="#777",p="#aaa",s="#ccc",d="#fff",f="Helvetica Neue, sans-serif",h="Fira Sans, sans-serif",m=l("div")({paddingTop:"50px",display:"flex",fontFamily:f,flexDirection:"column",justifyContent:"center"}),x=l("div")(function(e){return{backgroundColor:"#"+e.color,border:"1px solid "+i,width:"80px",height:"80px"}}),v=l("li")({alignItems:"center",color:p,display:"flex",fontSize:"1.6em",justifyContent:"space-between",margin:"20px"}),y=l("ul")({margin:"0 auto",width:"400px",padding:"0"}),g=l("div")({display:"flex",justifyContent:"center"}),b=l("input")({border:"none",borderBottom:"2px solid "+p,fontSize:"1em",width:"300px",height:"10px",padding:"10px",transition:"all 0.4s",":focus":{background:a,outline:"0"}}),k=l("button")(function(e){return{border:"2px solid "+p,borderRadius:"8px",color:c,cursor:"pointer",fontSize:e.small?"0.5em":"1em",marginLeft:"1em",transition:"all 0.1s",":focus":{outline:"0"},":active":{color:i,background:a}}}),C=l("h1")({color:p,cursor:"default",fontSize:"4.2em",fontFamily:h,marginBottom:"10px",textAlign:"center",strong:{color:c}}),j=l("p")({marginBottom:"20px",textAlign:"center",a:{color:c,textDecoration:"none",borderBottom:"2px solid "+c}}),F=l("div")({marginBottom:"80px"}),_=function(o){var t=o.hex,r=o.remove;return(0,e.h)(v,{id:t,key:t},(0,e.h)(x,{color:t})," #",t," ",(0,e.h)(k,{small:!0,title:"Remove color",onclick:function(){return r(t)}},"x"))},w=function(o){var t=o.get,r=o.input,n=o.value,l=o.placeholder;return(0,e.h)(g,null,(0,e.h)(b,{type:"text",onkeyup:function(e){return 13===e.keyCode?t():null},oninput:function(e){return r({value:e.target.value})},value:n,placeholder:l}),(0,e.h)(k,{title:"Fetch palette",onclick:t},"Fetch"))},z=function(o){var t=o.value,r=o.copy,n=o.copied;return function(o){return(0,e.h)("div",null,(0,e.h)(j,null,"Here's your theme!"),(0,e.h)(g,null,(0,e.h)(b,{class:"js_copy",type:"text",value:t,placeholder:"Enjoy!"}),(0,e.h)(k,{title:"Copy to clipboard",onclick:r},n?"Copied!":"Copy")))}},B=function(t,r){return(0,e.h)(m,null,(0,e.h)(C,null,"Firefox ",(0,e.h)("strong",null,"Color"),"lovers"),(0,e.h)(j,null,"Import one of over ",(0,e.h)("a",{href:"//colourlovers.com/palettes",target:"_blank"},"4,577,158")," user-created color palettes to ",(0,e.h)("a",{href:"//color.firefox.com/"},"colorize")," your browser."),(0,e.h)(w,{get:(0,o.action)("getPalette"),input:r.input,value:t.sourceUrl,placeholder:t.placeholder}),(0,e.h)(y,null,t.colors.map&&t.colors.map(function(o){return(0,e.h)(_,{hex:o,remove:r.remove})})),t.outputUrl&&(0,e.h)(z,{value:t.outputUrl,copy:r.copy,copied:t.copied}),(0,e.h)(F,null))};exports.default=B;
},{"hyperapp":12,"@hyperapp/fx":13,"picostyle":22}],4:[function(require,module,exports) {
"use strict";var e=require("hyperapp"),r=require("@hyperapp/fx"),u=require("./js/state.js"),t=d(u),a=require("./js/actions.js"),s=d(a),i=require("./js/view.js"),p=d(i);function d(e){return e&&e.__esModule?e:{default:e}}var f=(0,r.withFx)(e.app)(t.default,s.default,p.default,document.body);
},{"hyperapp":12,"@hyperapp/fx":13,"./js/state.js":6,"./js/actions.js":7,"./js/view.js":8}]},{},[4], null)
//# sourceMappingURL=public/src.e3dfd88f.map